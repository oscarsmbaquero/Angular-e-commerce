<!-- <div class="product-card-container"> -->
  <div  *ngIf="products.length; else loading" class="container" style="padding-bottom: 10px;">
    <div class="row">
      <div *ngFor="let product of products; let i = index" class="col-12 col-md-12 col-lg-3">
        <div class="card" style="padding:15px"
        [ngClass]="{'agotado-class': product.unidades <=  0}"
        >
          <!-- Mensaje al añadir  -->
          <p-toast position="top-center"></p-toast>
          <img src='../../../assets/images/new.png' *ngIf="product.isNew" class="new-products">          
          <!-- <img class="card-img" [src]=" product.image" alt="Vans"/> -->
          <p-image [src]="product.image" 
          alt="Image" 
           
          [preview]="true"> 
 </p-image>
          <!-- <p-image [src]="product.image" alt="Image" [preview]="true"></p-image> -->
          <!-- <div class=" d-flex justify-content-end">
            <a href="#" class="card-link text-danger like">
              <i class="fas fa-heart"></i>
            </a>
          </div> -->
          <div class="card-body">
            <h4 class="card-title">{{product.name}}</h4>
            <!-- <h6 class="card-subtitle mb-2 text-muted">ref: {{product._id}}</h6> -->
            <p class="card-text">
              {{product.description}}
            </p>
            <div class="options d-flex flex-fill" style="align-items: center;">
              <p-badge value={{product.stock}} [severity]="product.stockStatus"></p-badge>
              <select 
                 class="custom-select mr-1" 
                 style="margin-left: 10px;" 
                 [(ngModel)]="selectedOptions[product._id]"
                 [disabled]="product.unidades <= 0"
                 (change)="onSelectChange(product,i)">
                 <option [ngValue]=1>1</option> <!-- Establecer "1" como valor predeterminado -->
                 <option [ngValue]=2>2</option>
                 <option [ngValue]=3>3</option>
                 <option [ngValue]=4>4</option>
                 <option [ngValue]=5>5</option>
                 <option [ngValue]=6>6</option>
                 <option [ngValue]=7>7</option>
                 <option [ngValue]=8>8</option>
                 <option [ngValue]=9>9</option>
                 <option [ngValue]=10>10</option>
                
              </select>
            </div>
            <div class="buy d-flex justify-content-between align-items-center">
              <div class="price text-dark"><h2 class="mt-4" style="font-weight: bold;">{{product.precio}}€</h2></div>
              
              <button *ngIf="product.unidades > 0" (click)="confirmAndAddtoCart(product)" class="btn btn-info mt-3"><i class="fas fa-shopping-cart"></i>&nbsp;Añadir</button>
              <button *ngIf="product.unidades <= 0" class="btn btn-info mt-3" [ngClass]="{'disabled-button': product.unidades <= 0}" [disabled]="product.unidades <= 0">
                <i class="fas fa-shopping-cart"></i>&nbsp;Añadir
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<ng-template #loading>
  <app-loading></app-loading>
</ng-template>

<!-- <div class="row" style="margin-top: 25px">
    <div
      *ngFor="let car of products; let i = index"
      class="col-lg-3 col-md-6 col-12 mx-auto"
      [attr.data-aos]="i % 2 === 0 ? 'fade-right' : 'fade-left'"
    >
      <div
        class="card bg-light text-dark"
        style="margin-bottom: 25px; position: relative"
      >
        <img src="{{ car.image }}" class="product-image" alt="Stony Beach" />

        <div class="d-flex flex-column align-items-center">
          <div class="product-info">
            <h3 class="product-name">{{ car.name }}</h3>
            <p class="product-description">{{ car.description }}</p>

            <div class="product-action">
              <p class="product-price" style="color: black">
                {{ car.precio }}&nbsp;€
              </p>
              <button
                class="add-to-cart-btn"
                (click)="addToCart(car)"
                routerLink="/"
              >
                <img
                  src="assets/images/cart.png"
                  width="35"
                  height="40"
                  alt=""
                />&nbsp;
              </button>
              <button class="wishlist-btn" (click)="navigateDetail(car.id)">
                <img
                  src="assets/images/info.png"
                  width="35"
                  height="40"
                  alt=""
                />&nbsp;
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> -->
